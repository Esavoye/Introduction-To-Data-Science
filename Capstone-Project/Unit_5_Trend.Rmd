---
title: 'IGN Data: Applying Statistics'
author: "by Ellen A. Savoye"
output:
  pdf_document: default
---
***
Given the diversity, I would like to determine if, by year and over the years, there is a particular console that is the most popular by use and by average game rating. In addition, I would like to determine if, by year and over the years within reason, there is a particular video game genre that is heralded as the favorite by rating and amount of games within that genre with a positive rating.


Key takeaways
- Show genre by year for the top 5 platforms
- Genre vs score phrase
  - score phrase an indicator?
  - count of scores within each genre for quantity
  
- Select last 10 years of data for analysis - seems to be a break/change in the number of games/reviews


Data Prep
The data was previously cleaned up by removing an outlier in release date as well as condensing both platform and genre into more manageable and logical groups in order to analyze the data with sense.

Get going by asking the following questions and looking for the answers with some code and plots:

Can you count something interesting?

Can you find some trends (high, low, increase, decrease, anomalies)?

Can you make a bar plot or a histogram?

Can you compare two related quantities?

Can you make a scatterplot?

Can you make a time-series plot?

Having made these plots, what are some insights you get from them? Do you see any correlations? Is there a hypothesis you would like to investigate further? What other questions do they lead you to ask?



After cleaning up my dataset, I moved into applying some exploratory data analysis to unearth some inferences about the data. 

```{r load_data, echo=FALSE, include=FALSE}
# Load libraries and read IGN CSV file

library("latexpdf")
library("dplyr")
library("tidyr")
library("knitr")
library("ggplot2")

IGN_data <- read.csv("ign_clean.csv")
```

<br>

```{r show_table,  tidy=TRUE, tidy.opts=list(width.cutoff=60)}
head(tbl_df(IGN_data), 5)

top10 <- head(names((sort(table(IGN_data$genre_group), decreasing = TRUE))), 10)
```

<br>

The plots below are based on all 20 years worth of data. I knew the more positive the score phrase, the better the score. However, I wanted to plot see how far down an "Editor's Choice" game would score. Based on the second graph below, the lowest is approximately an 8. However intersting this fact is, it only goes to show how large the score range is for an "Editor's Choice" game can be.
```{r score_phrase}

sort(unique(IGN_data$score_phrase))

#Score_vs_Phrase 
ggplot(data=IGN_data, aes(score)) + 
  geom_histogram(aes(fill=factor(score_phrase)),bins=80) + 
  xlab('Score') + 
  theme(legend.position=c(.2, .6)) + 
  theme(legend.title=element_blank()) 

#Score_vs_EdChc 
ggplot(data=IGN_data, aes(score)) +
  geom_histogram(aes(fill=factor(editors_choice)),bins=80) + 
  xlab('Score') + theme(legend.position=c(.2, .7)) +
  theme(legend.title=element_blank()) 

#Score_vs_EdChc_vs_Yr 
ggplot(data=IGN_data, aes(score)) +
  geom_histogram(aes(fill=factor(editors_choice)),bins=80) + 
  xlab('Score') + theme(legend.position=c(.2, .7)) +
  theme(legend.title=element_blank()) +
  facet_grid(IGN_data$release_year ~ ., IGN_data$release_year > 2007)

```


Comparing score versus the cleaned up platform group, I'd like to see if the scores fluctuated for each group with more than 100 records over the last 20 years.
```{r Platform_score}

IGN_data %>% 
  group_by(platform_group) %>%
  summarise(no_rows = length(platform_group)) %>% 
  arrange(no_rows)

ggplot(IGN_data, aes(x = factor(release_year), y = score)) + 
  geom_boxplot(aes(fill=(platform_group))) + 
  theme(legend.position=c(.1, .2)) + 
  xlab('Year') + 
  ylab('Score') + 
  theme(legend.title=element_blank()) +
  facet_grid(. ~ release_year)
```


The bar plot below serves two functions. The first is to see the magnitude of each genre. The second is to determine if there is a system that is more focused on releasing certain genres of games. Action, Sports, and Shooter games are the most popular. However, Nintendo has less presence in the Shooter game division. THe second graph below shows Platform versus year. 2008 was a very busy year. However, this can be accounted for as the year Ninentdo Wii came out.
```{r Platform_genre}
#Platform vs Genre
ggplot(IGN_data, aes(x=reorder(genre_group,genre_group,function(x)-length(x)))) + 
  geom_bar(aes(fill=platform_group)) + 
  theme(axis.text.x = element_text(angle=90, hjust=1)) + 
  xlab('Genre') + theme(legend.title=element_blank()) 

#Platform vs Year
ggplot(IGN_data, aes(x=factor(release_year))) + 
  geom_bar(aes(fill=platform_group)) + 
  theme(axis.text.x = element_text(angle=90, hjust=1)) + 
  xlab('Year') + theme(legend.title=element_blank())

```




```{r Genre_Score}

IGN_data %>% 
  filter(genre_group %in% top10) %>%
  group_by(genre_group, release_year) %>%
  summarize(average_score = mean(score, na.rm = TRUE)) %>%
  ggplot(aes(x = release_year, y = average_score, col = genre_group)) +
    geom_smooth(method = "lm", se = FALSE) +
    theme(axis.title.x = element_blank()) +
    labs(y = "Average Score", title = "Top 10 genres through time", x ="") +
    scale_color_brewer(palette = "Paired")

```

Count something interesting: # of editors choice games, score per genre, 

Trends: day of week release, time of the year,

Bar plot or histogram:

scatterplot:

time-series plot:

Having made these plots, what are some insights you get from them? Do you see any correlations? Is there a hypothesis you would like to investigate further? What other questions do they lead you to ask?

