---
<<<<<<< HEAD
title: "IGN Video Game Reviews"
author: "by Ellen A Savoye"
date: "April 21 2018"
output: pdf_document
subtitle: Data Story
---
***
  
  
# Introduction
  
Over the last 20 years, a plethora of video games have been released in an ever growing market of gaming consoles. In tandem With the creation of these games, a website called IGN began releasing reviews and ratings of the aforementioned games. These ratings and reviews could potentially be compiled and analyzed to create insights that would be useful to console and video game creators. With analysis, console and video game creators would be able to determine their market/popularity standing in comparison to other consoles and games. Furthermore, they would be able to determine if there is a particular genre that needs more development in order to potentially increase their rating and market standpoint. To do such an analysis, data was sourced from Kaggle (<https://www.kaggle.com/egrinstein/20-years-of-games>) and IGN (<http://ign.com/games/reviews>), via a crawl, consisting of 20 years worth of video game data.

# Caveats
The data does not contain any financial information relating to volume of games sold or the monetary amount it was sold for. Any potential insights are solely related to the number of games released, their rating, and the console the game was released on. Some games are released across multiple consoles. I have not adjusted the data to constrain games from multiple platforms down to one.
=======
title: 'IGN Video Game Reviews'
subtitle: 'Data Story'
author: "by Ellen A. Savoye"
date: "April 21, 2018"
output:
  pdf_document: default
---
***
<br>

# Introduction  

<br>

Over the last 20 years, a plethora of video games have been released in an ever growing market of gaming consoles. In tandem With the creation of these games, a website called IGN began releasing reviews and ratings of the aforementioned games. These ratings and reviews could potentially be compiled and analyzed to create insights that would be useful to console and video game creators. With analysis, console and video game creators would be able to determine their market/popularity standing in comparison to other consoles and games. Furthermore, they would be able to determine if there is a particular genre that needs more development in order to potentially increase their rating and market standpoint. To do such an analysis, data was sourced from Kaggle (<https://www.kaggle.com/egrinstein/20-years-of-games>) and IGN (<http://ign.com/games/reviews>), via a crawl, consisting of 20 years worth of video game data.

>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb

# The Data


The data, 20 years' worth of IGN game reviews, consists of 18,625 records. The raw dataset had 10 columns (listed below). 

|Variable|Description|
|----|----|
|score_phrase| Phrase given to describe overall score
|title| Game title 
|url| IGN Game URL
|platform| Game Console
|genre| Video game genre
|score| Overall rating for video game
|editors_choice| Editor Recommended (Y/N) 
|release_year| Year of game release
|release_month| Month of game release
|release_day| Day of game release


```{r game_reviews data, echo=FALSE, include=FALSE}
<<<<<<< HEAD

library("knitr")
library("readr")
library("dplyr")
library("tidyr")
library("RColorBrewer")
library("ggplot2")

IGN_data <- read_csv("ign_original.csv")

```

```{r game_reviews table, echo=FALSE, tidy=TRUE, tidy.opts=list(width.cutoff=80)}
# preview of the data set
pander::pander(IGN_data[1:5, ], caption="IGN Data")

```

## Data Wrangling

To take a proper look at the data, I loaded the original dataset as a CSV file and the necessary libraries. Of the variables available for use, score_phrase, platform, score, genre, editors_choice, release_year, release_month, and release_day are the ones I used in my analysis. As such, I analyzed them for missing values, outliers, and whether or not the number of distinct factors in each was usable. Editors_choice, score_phrase, and score did not need cleaning. However, when checking release_year, I noticed an outlier titled "The Walking Dead: The Game -- Episode 1: A New Day". This record had a release date of 1/1/1970. Given the dataset is spanning 1996 - 2016, I chose to correct the outlier to the correct release date of 4/24/2012.

```{r show_table, tidy=TRUE, max.print = 10, tidy.opts=list(width.cutoff=60)}
head(tbl_df(IGN_data), 5)
```

=======
#install.packages("kableExtra")

library(knitr)
library(readr)
library(dplyr)

game_reviews <- read_csv("ign_original.csv")

```

```{r game_reviews table, echo=FALSE, results='asis',tidy=TRUE, max.print = 10, tidy.opts=list(width.cutoff=60)}
# preview of the data set

knitr::kable(game_reviews[1:5, ], caption="IGN Data")

```

***

#### **The Approach**
*In brief, outline your approach to solving this problem (knowing that this might
change later)*

My approach can be broken out into the following sections:

1. Data wrangling and cleaning
    + Take into account any missing values or outliers
    + Are there any discontinued consoles? How should they be accounted for?
2. Exploratory Data Analysis
    + Use a combination of inferential statistics and data visualization to identify trends between game consoles and video game ratings
        + Determine potentially significant variables
        + Identify trends and correlations between variables
3. Machine Learning
    + Dig deeper into the correlation between consoles and game ratings using classification techniques and/or regression models
4. Data visualization and report out
    + Compile all relevant information into deliverables (listed below)
  
***

#### **Deliverables**
*What are your deliverables?*

My deliverables will consist of a report on my findings, a slide deck, and the corresponding R code used in analyzing the data. In addition, the aforementioned deliverables will be submitted and published on GitHub.






 To take a proper look at the data, I loaded the original dataset as a CSV file and the necessary libraries.

```{r load_data, echo=FALSE, include=FALSE}
# Load libraries and read IGN CSV file

library("dplyr")
library("tidyr")
library("knitr")

IGN_data <- read.csv("ign_original.csv")
```

<br>

```{r show_table,  tidy=TRUE, tidy.opts=list(width.cutoff=60)}
head(tbl_df(IGN_data), 5)
```

<br>

Of the variables available for use, score_phrase, platform, score, genre, editors_choice, release_year, release_month, and release_day are the ones I am using in my analysis. As such, I analyzed them for missing values, outliers, and whether or not the number of distinct factors in each was usable. Editors_choice, score_phrase, and score did not need cleaning. However, when checking release_year, I noticed an outlier titled "The Walking Dead: The Game -- Episode 1: A New Day". This record had a release date of 1/1/1970. Given the dataset is spanning 1996 - 2016, I chose to correct the outlier to the correct release date of 4/24/2012.

>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb
```{r check_release_year, tidy=TRUE, tidy.opts=list(width.cutoff=60), max.print = 10}
# Release year is supposed to be higher than 1995

head(IGN_data %>% distinct(release_year),5) %>% 
<<<<<<< HEAD
arrange(release_year)
=======
  arrange(release_year)
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb

IGN_data[IGN_data$release_year == "1970", ]

IGN_data <- IGN_data %>% mutate(release_year = if_else(title == "The Walking Dead: The Game -- Episode 1: A New Day", as.integer(2012), release_year)) %>% 
<<<<<<< HEAD
mutate(release_month = if_else(title == "The Walking Dead: The Game -- Episode 1: A New Day", as.integer(4), release_month)) %>% 
mutate(release_day = if_else(title == "The Walking Dead: The Game -- Episode 1: A New Day", as.integer(24), release_day))

```

=======
  mutate(release_month = if_else(title == "The Walking Dead: The Game -- Episode 1: A New Day", as.integer(4), release_month)) %>% 
  mutate(release_day = if_else(title == "The Walking Dead: The Game -- Episode 1: A New Day", as.integer(24), release_day))

```

<br>

>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb
With the outlier corrected, platform and genre variables remained. The original platform variable consisted of 59 distinct factors. Because platform spanned multiple generations of systems (e.g., PlayStation 1-3) and because not all manufacturers kept system naming consistent, I chose to combine the values into a condensed version based on system name/manufacturer and created a new variable named platform_group. To do so, I loaded a 'platform map' CSV file to merge the new platform_group variable onto the original dataset. After comparing the original platform variable against the new platform_group to ensure no misplaced systems, I moved onto the genre variable.

```{r condense_platform_list, results='hide', tidy=TRUE}
# 59 variables in original platform column

IGN_data %>% distinct(platform) %>% 
<<<<<<< HEAD
arrange(platform)

Platform_Map <- read.csv("platform_map.csv") 
as.character(Platform_Map$platform)
=======
  arrange(platform)

Platform_Map <- read.csv("platform_map.csv")
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb

IGN_data <- IGN_data %>% left_join(Platform_Map, by = c("platform" = "platform"))
```

```{r platform_group_list, tidy=TRUE, max.print = 10}
IGN_data %>% group_by(platform, platform_group) %>% 
<<<<<<< HEAD
summarise( n_distinct(platform_group))
```
=======
  summarise( n_distinct(platform_group))
```
<br>
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb

Similar to the platform variable, the genre variable has a multitude of factors which makes intelligent analysis a bit difficult. There are 113 unique genres within the field. I chose my grouping based on an overall description (e.g., Sports, Cards, Action, etc.) given the numerous distinct factors. Before cleaning up the column, I checked for any blank cells. Out of 18,625 observations, 36 do not have a genre which is .19%. Due to the blank records being less than 1% of the overall genre column, I chose not to populate them but instead mapped them to 'Other.' To map genre, I loaded a 'genre map' CSV file to merge the new genre_group variable onto the original dataset. In doing so, I brought the number of unique genres from 113 to 21.

```{r check_genre, tidy=TRUE, results='hide'}
# Check for blanks in genre column

IGN_data %>% distinct(genre) %>% 
<<<<<<< HEAD
arrange(genre)
=======
  arrange(genre)
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb
```

```{r check_genre_blanks, tidy=TRUE, max.print = 10}
group_by(IGN_data[IGN_data$genre == "", ])
```

```{r group_genre_list, results='hide', tidy=TRUE}

# 113 unique factors in genre column 

IGN_data %>% distinct(genre) %>% 
<<<<<<< HEAD
arrange(genre)

Genre_Map <- read.csv("genre_map.csv")
as.character(Genre_Map$genre)
=======
  arrange(genre)

Genre_Map <- read.csv("genre_map.csv")
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb

IGN_data <- IGN_data %>% left_join(Genre_Map, by = c("genre" = "genre"))
```
```{r genre_group_list, tidy=TRUE, max.print = 10}
unique(IGN_data$genre_group)
```
<<<<<<< HEAD

After cleaning up the variables that I will be using in my analysis, I wrote the wrangled data to a new file called "ign_clean.csv" for further use in creating insights.
=======
<br>

After cleaning up the variables that I will be using in my analysis, I wrote the wrangled data to a new file called "ign_clean.csv" for further use later in the course.
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb

```{r cleaned_code_CSV, results='hide', tidy=TRUE}

write.csv(IGN_data, "ign_clean.csv")
<<<<<<< HEAD
IGN_data_cleaned <- read.csv("ign_clean.csv")

```

***
# Exploratory Data Analysis

For the first look, I'd like to determine what are the top genres and what the top platforms are.

### Genre
#### Top Genres
```{r top_genres, tidy=TRUE}

top_genres <- IGN_data_cleaned %>%
  group_by(genre_group) %>%
  summarize(genres_count = n()) %>%
  arrange(desc(genres_count))

top_genres$genre_group <- factor(top_genres$genre_group, levels = top_genres$genre_group[order(top_genres$genres_count)])

colourCount = length(unique(top_genres$genre_group))
fill_purple <- colorRampPalette(brewer.pal(9,"BuPu"))

top_genres_plot <- top_genres %>% 
  filter(genre_group != "NA") %>% 
  ggplot(aes(x = genre_group, y = genres_count, fill = genre_group)) +
  geom_bar(stat = "identity") +
  coord_flip() +
  geom_text(aes(label = genres_count), size = 2.5, color = "black", hjust = -.5) +
  labs(x = "Genre", y = "Number of Games", title = "Genres of Video Games for 1996-2016") +
  theme(legend.position = "none", plot.title = element_text(hjust = 0.5)) +
  ylim(0, max(top_genres$genres_count + 100)) +
  scale_fill_manual(values = fill_purple(colourCount))
top_genres_plot
```

The top genre is Action followed by Sports, Shooter, Adventure, and Racing. The number of Action games is more than double the next genre, Sports. As I mentioned in the caveats section, this may be due to some games applying across platforms and are therefor being counted multiple times. 

#### Top Genres by Score

Due to a little more than half of the genres having a count of 500+, I'm using 500 as my minimum number of games to filter my data. **Needs to be fixed**
```{r top_genres_scores, tidy=TRUE}

top_genre_scores <- IGN_data_cleaned %>%
group_by(genre_group) %>%
summarize(sum_genres_count = n()) %>%
arrange(desc(sum_genres_count)) %>% 
filter(sum_genres_count > 499) 
top_genre_scores <- top_genre_scores[,1]

colourCount = length(unique(top_genres$genre_group))
fill_purple <- colorRampPalette(brewer.pal(9,"BuPu"))

top_genres_score_plot <- IGN_data_cleaned %>% 
filter(top_genre_scores %in% genre_group) %>% 
ggplot(aes(x = genre_group, y = score, fill = genre_group, color = genre_group)) +
geom_boxplot(alpha = 0.5) +
labs(x = "Top Genres", y = "Score", title = "Distribution of Scores by Top Genres for 1996-2016") +
theme(legend.position = "none", plot.title = element_text(hjust = 0.5)) 
top_genres_score_plot

```

### Platforms
#### Top Platforms
```{r top_platforms, tidy=TRUE}

top_platform <- IGN_data_cleaned %>%
group_by(platform_group) %>%
summarize(platform_count = n()) %>%
arrange(desc(platform_count))

top_platform$platform_group <- factor(top_platform$platform_group, levels = top_platform$platform_group[order(top_platform$platform_count)])

colourCount = length(unique(top_platform$platform_group))
fill_purple <- colorRampPalette(brewer.pal(9,"PuRd"))

top_platform_plot <- top_platform %>% 
filter(platform_group != "NA") %>% 
ggplot(aes(x = platform_group, y = platform_count, fill = platform_group)) +
geom_bar(stat = "identity") +
coord_flip() +
geom_text(aes(label = platform_count), size = 2.5, color = "black", hjust = -.5) +
labs(x = "Platform", y = "Number of Platforms", title = "Platforms of Video Games for 1996-2016") +
theme(legend.position = "none", plot.title = element_text(hjust = 0.5)) +
ylim(0, max(top_platform$platform_count + 100)) +
scale_fill_manual(values = fill_purple(colourCount))
top_platform_plot
```

While some of these platforms have had multiple versions/evolutions over the last 20 years, Nintendo for example, those versions have been grouped together for a simpler analysis on the major gaming platforms. As such, Playstation is the top system followed by Nintendo, Windows, and Xbox. Taking this information, we can take the top 6 platforms and see how they performed over the last 10 years by their aggregated scores.

#### Top Platforms by Score (to be updated)

```{r top_platforms_score, tidy=TRUE}

top_platform <- IGN_data_cleaned %>%
group_by(platform_group) %>%
summarize(platform_count = n()) %>%
arrange(desc(platform_count))

top_platform$platform_group <- factor(top_platform$platform_group, levels = top_platform$platform_group[order(top_platform$platform_count)])

colourCount = length(unique(top_platform$platform_group))
fill_purple <- colorRampPalette(brewer.pal(9,"PuRd"))

top_platform_plot <- top_platform %>% 
filter(platform_group != "NA") %>% 
ggplot(aes(x = platform_group, y = platform_count, fill = platform_group)) +
geom_bar(stat = "identity") +
coord_flip() +
geom_text(aes(label = platform_count), size = 2.5, color = "black", hjust = -.5) +
labs(x = "Platform", y = "Number of Platforms", title = "Platforms of Video Games for 1996-2016") +
theme(legend.position = "none", plot.title = element_text(hjust = 0.5)) +
ylim(0, max(top_platform$platform_count + 100)) +
scale_fill_manual(values = fill_purple(colourCount))
top_platform_plot
```


### Important Dates
We want to see if a particular day, month, and/or year stands out as significant. To do so, I first looked at month and year together.

```{r Date_Year, tidy=TRUE}

Mon_Yr_Ct <- IGN_data_cleaned %>%
group_by(release_month, release_year) %>%
summarize(games_per_mon = n()) %>%
arrange(desc(games_per_mon))
Mon_Yr_Ct %>% 
ggplot(aes( x = release_month, y = games_per_mon, fill = release_month)) +
geom_bar(stat = "identity") +
facet_wrap( ~release_year, ncol = 6)
```


=======

```












After the original dataset was compiled, I corrected the singular outlier. In addition, platorm and genre variables were pared down into a more manageable number of vari 


Given the diversity, I would like to determine if, by year and over the years, there is a particular console that is the most popular by use and by average game rating. In addition, I would like to determine if, by year and over the years within reason, there is a particular video game genre that is heralded as the favorite by rating and amount of games within that genre with a positive rating.
>>>>>>> b969fe75fa97f4eaf71c883b15addf7d03cdd5eb
